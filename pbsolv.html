<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>PolyPBren - Module pbsolv</title>
<!-- style type="text/css" -->
<link rel="stylesheet" href='nimdef.css'>


<!-- <script type="text/javascript" src="../dochack.js"></script> -->

<script type="text/javascript">
function togglepragma(d) {
  if (d.style.display != 'inline')
    d.style.display = 'inline';
  else
    d.style.display = 'none';
}

function main() {
  var elements = document.getElementsByClassName("pragmabegin");
  for (var i = 0; i < elements.length; ++i) {
    var e = elements[i];
    e.onclick = function(event) {
      togglepragma(event.target.nextSibling);
    };
  }
  var elements = document.getElementsByClassName("pragmaend");
  for (var i = 0; i < elements.length; ++i) {
    var e = elements[i];
    e.onclick = function(event) {
      togglepragma(event.target.previousSibling);
    };
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">Module pbsolv</h1>
    <div class="row">
  <div class="three columns">
  <div id="global-links">
    <ul class="simple">
      <li>
        <a href="index.html">Overview</a>
      </li>
      <li>
        <a href="usage.html">Usage</a>
      </li>
      <li>
        <a href="example.html">Example</a>
      </li>
      <li>
        <a href="pbsolv.html">Solver API</a>
      </li>
    </ul>
  </div>
  <h3>Module pbsolv</h3>
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="examples_toc" href="#examples">Examples</a></li>
<ul class="simple"><li><a class="reference" id="examples-simple-solve_toc" href="#examples-simple-solve">Simple solve</a></li>
<li><a class="reference" id="examples-with-a-condition_toc" href="#examples-with-a-condition">With a condition</a></li>
</ul><li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#EqModelKind"
    title="EqModelKind = enum
  PlanePBE, RadialPBE"><wbr />Eq<wbr />Model<wbr />Kind<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#BoundaryCondition"
    title="BoundaryCondition = enum
  BCval, BCder"><wbr />Boundary<wbr />Condition<span class="attachedType" style="visibility:hidden"></span></a></li>
  <li><a class="reference" href="#PBEquation"
    title="PBEquation = object of RootObj
  kind*: EqModelKind
  saltKind: SaltKind
  bcL, bcR: BoundaryCondition
  N, nions: int
  s0, h, f0: float
  phiL, phiLd, phiR, phiRd: float
  lb, rho: float
  fac, z: array[Nionsmax, float]
  phi*: seq[float]"><wbr />PBEquation<span class="attachedType" style="visibility:hidden"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#defMesh,PBEquation,float,float,float"
    title="defMesh(pbe: var PBEquation; smin, smax, sbin: float; reDefSbin = true)"><wbr />def<wbr />Mesh<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#charge=,PBEquation,float"
    title="charge=(e: var PBEquation; charge: float)"><wbr />charge=<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#rho=,PBEquation,float"
    title="rho=(e: var PBEquation; rho: float)"><wbr />rho=<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#lambdab=,PBEquation,float"
    title="lambdab=(e: var PBEquation; lambdab: float)"><wbr />lambdab=<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#defBoundCond,PBEquation,BoundaryCondition,BoundaryCondition,float,float"
    title="defBoundCond(e: var PBEquation; bcL, bcR: BoundaryCondition; left = 0.0; right = 0.0)"><wbr />def<wbr />Bound<wbr />Cond<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#initPBEquation,float,float,float,openArray[float],openArray[float],float,float,float,float,float"
    title="initPBEquation(smin, smax, sbin: float; zv, concv: openArray[float]; kind = PlanePBE;
               bcL = BCval; bcR = BCder; left = 0.0; right = 0.0; lambdab = 0.715;
               charge = 0.0; rho = 0.0): PBEquation"><wbr />init<wbr />PBEquation<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#initialize,PBEquation,proc(float)"
    title="initialize(e: var PBEquation; f: proc (x: float): float)"><wbr />initialize<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#initialize,PBEquation,float"
    title="initialize(e: var PBEquation; x: float)"><wbr />initialize<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#mesh,PBEquation"
    title="mesh(e: var PBEquation): seq[float]"><wbr />mesh<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#sigma,PBEquation"
    title="sigma(e: PBEquation): float"><wbr />sigma<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#sigmaCum,PBEquation"
    title="sigmaCum(e: PBEquation): seq[float]"><wbr />sigma<wbr />Cum<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#sigmaCumSansBack,PBEquation"
    title="sigmaCumSansBack(e: PBEquation): seq[float]"><wbr />sigma<wbr />Cum<wbr />Sans<wbr />Back<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#residual,PBEquation"
    title="residual(e: PBEquation): float"><wbr />residual<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#solve,PBEquation,int,float"
    title="solve(eq: var PBEquation; niter = 10000; tol = 1e-05): int"><wbr />solve<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#solveByNeutralization,PBEquation,float,float,int,int,float,float"
    title="solveByNeutralization(eq: var PBEquation; tolF = 0.001; tolIn = 1e-05; nitermax = 500;
                      niterin = 10000; minVal = 0.0; maxVal = 10.0): int"><wbr />solve<wbr />By<wbr />Neutralization<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#solveByCondition,PBEquation,proc(PBEquation),float,float,int,int,float,float"
    title="solveByCondition(eq: var PBEquation;
                 condition: proc (e: PBEquation): float; tolF = 0.001; tolIn = 1e-05;
                 nitermax = 500; niterin = 10000; minVal = 0.0; maxVal = 10.0): int"><wbr />solve<wbr />By<wbr />Condition<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>
  <li><a class="reference" href="#residuals,PBEquation"
    title="residuals(e: PBEquation): seq[float]"><wbr />residuals<span class="attachedType" style="visibility:hidden">PBEquation</span></a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  <p class="module-desc">This module helps to solve the 1-D and radial Poisson-Boltzmann equation.
<h1><a class="toc-backref" id="examples" href="#examples">Examples</a></h1>
<h2><a class="toc-backref" id="examples-simple-solve" href="#examples-simple-solve">Simple solve</a></h2><p>Solves a PB equation for a planar geometry, a surface density of 1, using a fixed derivative as a left boundary condition. Then outputs the resulting potential profile to a file.</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">polypbrenpkg</span> <span class="Operator">/</span> <span class="Identifier">pbsolv</span>

<span class="Keyword">let</span>
  <span class="Identifier">ds</span><span class="Operator">=</span><span class="FloatNumber">0.1</span>
  <span class="Identifier">zv</span> <span class="Operator">=</span> <span class="Punctuation">[</span><span class="FloatNumber">1.0</span><span class="Punctuation">,</span> <span class="Operator">-</span><span class="FloatNumber">1.0</span><span class="Punctuation">]</span>
  <span class="Identifier">conc</span> <span class="Operator">=</span> <span class="Punctuation">[</span><span class="FloatNumber">0.5</span><span class="Punctuation">,</span> <span class="FloatNumber">0.5</span><span class="Punctuation">]</span>
<span class="Keyword">var</span> <span class="Identifier">eq</span> <span class="Operator">=</span> <span class="Identifier">initPBEquation</span><span class="Punctuation">(</span><span class="Identifier">smin</span> <span class="Operator">=</span> <span class="FloatNumber">0.0</span><span class="Punctuation">,</span> <span class="Identifier">smax</span> <span class="Operator">=</span> <span class="FloatNumber">10.0</span><span class="Punctuation">,</span> <span class="Identifier">sbin</span> <span class="Operator">=</span> <span class="FloatNumber">0.1</span><span class="Punctuation">,</span>
                        <span class="Identifier">kind</span><span class="Operator">=</span><span class="Identifier">PlanePBE</span><span class="Punctuation">,</span> <span class="Identifier">zv</span> <span class="Operator">=</span> <span class="Identifier">zv</span><span class="Punctuation">,</span> <span class="Identifier">concv</span><span class="Operator">=</span><span class="Identifier">conc</span><span class="Punctuation">,</span>
                        <span class="Identifier">bvL</span><span class="Operator">=</span><span class="Identifier">BCder</span><span class="Punctuation">,</span> <span class="Identifier">bcR</span><span class="Operator">=</span><span class="Identifier">BCDer</span><span class="Punctuation">,</span> <span class="Identifier">left</span> <span class="Operator">=</span> <span class="FloatNumber">1.0</span><span class="Punctuation">,</span> <span class="Identifier">right</span> <span class="Operator">=</span> <span class="FloatNumber">0.0</span><span class="Punctuation">,</span>
                        <span class="Identifier">charge</span> <span class="Operator">=</span> <span class="FloatNumber">1.0</span><span class="Punctuation">,</span> <span class="Identifier">lambdab</span> <span class="Operator">=</span> <span class="FloatNumber">1.0</span><span class="Punctuation">)</span>
<span class="Comment"># initialize the potential profile to 1.</span>
<span class="Identifier">eq</span><span class="Operator">.</span><span class="Identifier">initialize</span><span class="Punctuation">(</span><span class="FloatNumber">1.0</span><span class="Punctuation">)</span>
<span class="Comment"># solves the equation.</span>
<span class="Keyword">let</span> <span class="Identifier">number_iterations</span> <span class="Operator">=</span> <span class="Identifier">eq</span><span class="Operator">.</span><span class="Identifier">solve</span><span class="Punctuation">(</span><span class="Identifier">niter</span> <span class="Operator">=</span> <span class="DecNumber">5000</span><span class="Punctuation">,</span> <span class="Identifier">tol</span> <span class="Operator">=</span> <span class="FloatNumber">0.00001</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">fout</span> <span class="Operator">=</span> <span class="Identifier">open</span><span class="Punctuation">(</span><span class="StringLit">&quot;phi.dat&quot;</span><span class="Punctuation">,</span><span class="Identifier">fmWrite</span><span class="Punctuation">)</span>
<span class="Keyword">for</span> <span class="Identifier">i</span><span class="Punctuation">,</span><span class="Identifier">x</span> <span class="Keyword">in</span> <span class="Identifier">eq</span><span class="Operator">.</span><span class="Identifier">mesh</span><span class="Punctuation">:</span>
  <span class="Identifier">fout</span><span class="Operator">.</span><span class="Identifier">writeLine</span><span class="Punctuation">(</span><span class="Identifier">x</span><span class="Punctuation">,</span> <span class="CharLit">' '</span><span class="Punctuation">,</span><span class="Identifier">eq</span><span class="Operator">.</span><span class="Identifier">phi</span><span class="Punctuation">[</span><span class="Identifier">i</span><span class="Punctuation">]</span><span class="Punctuation">)</span>
<span class="Identifier">fout</span><span class="Operator">.</span><span class="Identifier">close</span></pre>
<h2><a class="toc-backref" id="examples-with-a-condition" href="#examples-with-a-condition">With a condition</a></h2><p>Solves a PB equation for radial geometry with a condition that should converge to 0 after enough iterations. Here it is a simplified pH condition.</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">polypbrenpkg</span> <span class="Operator">/</span> <span class="Identifier">pbsolv</span>

<span class="Keyword">let</span>
  <span class="Identifier">pKa</span> <span class="Operator">=</span> <span class="FloatNumber">7.7</span>
  <span class="Identifier">siteDens</span> <span class="Operator">=</span> <span class="FloatNumber">5.5</span>  <span class="Comment"># density of sites</span>
  <span class="Identifier">dqSite</span> <span class="Operator">=</span> <span class="Operator">-</span><span class="FloatNumber">1.0</span>    <span class="Comment"># charge difference of a site</span>
  <span class="Identifier">pHref</span> <span class="Operator">=</span> <span class="FloatNumber">9.0</span>     <span class="Comment"># imposed pH</span>

<span class="Keyword">proc</span> <span class="Identifier">pHcond</span><span class="Punctuation">(</span><span class="Identifier">e</span><span class="Punctuation">:</span> <span class="Identifier">PBEquation</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">float</span> <span class="Operator">=</span>
  <span class="Keyword">let</span>
    <span class="Identifier">alpha</span> <span class="Operator">=</span> <span class="Identifier">abs</span><span class="Punctuation">(</span><span class="Identifier">sigma</span><span class="Punctuation">(</span><span class="Identifier">e</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Operator">/</span><span class="Identifier">siteDens</span>   <span class="Comment"># sigma() computes the charge density (defined in this module)</span>
    <span class="Identifier">pH</span> <span class="Operator">=</span> <span class="Identifier">pKa</span> <span class="Operator">+</span> <span class="Punctuation">(</span><span class="Identifier">ln</span><span class="Punctuation">(</span><span class="Identifier">alpha</span><span class="Operator">/</span><span class="Punctuation">(</span><span class="FloatNumber">1.0</span><span class="Operator">-</span><span class="Identifier">alpha</span><span class="Punctuation">)</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="Identifier">dqSite</span><span class="Operator">*</span><span class="Identifier">e</span><span class="Operator">.</span><span class="Identifier">phi</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Operator">/</span><span class="Identifier">ln</span><span class="Punctuation">(</span><span class="FloatNumber">10.0</span><span class="Punctuation">)</span>
  <span class="Identifier">result</span> <span class="Operator">=</span> <span class="Identifier">pH</span> <span class="Operator">-</span> <span class="Identifier">pHref</span>

<span class="Keyword">var</span> <span class="Identifier">eq</span> <span class="Operator">=</span> <span class="Identifier">initPBEquation</span><span class="Punctuation">(</span><span class="Identifier">smin</span> <span class="Operator">=</span> <span class="FloatNumber">8.0</span><span class="Punctuation">,</span> <span class="Identifier">smax</span> <span class="Operator">=</span> <span class="FloatNumber">30.0</span><span class="Punctuation">,</span> <span class="Identifier">sbin</span> <span class="Operator">=</span> <span class="FloatNumber">0.1</span><span class="Punctuation">,</span>
                        <span class="Identifier">kind</span><span class="Operator">=</span><span class="Identifier">RadialPBE</span><span class="Punctuation">,</span> <span class="Identifier">zv</span> <span class="Operator">=</span> <span class="Punctuation">[</span><span class="FloatNumber">1.0</span><span class="Punctuation">,</span><span class="Operator">-</span><span class="FloatNumber">1.0</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Identifier">concv</span><span class="Operator">=</span><span class="Punctuation">[</span><span class="FloatNumber">6.022e-3</span><span class="Punctuation">,</span><span class="FloatNumber">6.022e-3</span><span class="Punctuation">]</span><span class="Punctuation">,</span>
                        <span class="Identifier">lambdab</span> <span class="Operator">=</span> <span class="FloatNumber">0.7105</span><span class="Punctuation">)</span>
<span class="Comment"># initialize the potential profile to -1.</span>
<span class="Identifier">eq</span><span class="Operator">.</span><span class="Identifier">initialize</span><span class="Punctuation">(</span><span class="Operator">-</span><span class="FloatNumber">1.0</span><span class="Punctuation">)</span>
<span class="Comment"># solves the equation.</span>
<span class="Keyword">let</span> <span class="Identifier">number_iterations</span> <span class="Operator">=</span> <span class="Identifier">eq</span><span class="Operator">.</span><span class="Identifier">solveByCondition</span><span class="Punctuation">(</span><span class="Identifier">condition</span> <span class="Operator">=</span> <span class="Identifier">pHcond</span><span class="Punctuation">,</span> <span class="Identifier">minVal</span> <span class="Operator">=</span> <span class="Operator">-</span><span class="FloatNumber">10.0</span><span class="Punctuation">,</span> <span class="Identifier">maxVal</span> <span class="Operator">=</span> <span class="FloatNumber">0.0</span><span class="Punctuation">,</span>
                                              <span class="Identifier">nitermax</span> <span class="Operator">=</span> <span class="DecNumber">50</span><span class="Punctuation">,</span> <span class="Identifier">niterin</span> <span class="Operator">=</span> <span class="DecNumber">5000</span><span class="Punctuation">,</span> <span class="Identifier">tolIn</span> <span class="Operator">=</span> <span class="FloatNumber">1.0e-4</span><span class="Punctuation">)</span></pre></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="sequtils.html">sequtils</a>, <a class="reference external" href="strutils.html">strutils</a>, <a class="reference external" href="math.html">math</a>, <a class="reference external" href="macros.html">macros</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<dt id="EqModelKind"><a name="EqModelKind"></a><pre><span class="Identifier">EqModelKind</span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">PlanePBE</span><span class="Other">,</span> <span class="Identifier">RadialPBE</span></pre></dt>
<dd>


</dd>
<dt id="BoundaryCondition"><a name="BoundaryCondition"></a><pre><span class="Identifier">BoundaryCondition</span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">BCval</span><span class="Other">,</span> <span class="Identifier">BCder</span></pre></dt>
<dd>


</dd>
<dt id="PBEquation"><a name="PBEquation"></a><pre><span class="Identifier">PBEquation</span> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">RootObj</span>
  <span class="Identifier">kind</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">EqModelKind</span>
  <span class="Identifier">saltKind</span><span class="Other">:</span> <span class="Identifier">SaltKind</span>
  <span class="Identifier">bcL</span><span class="Other">,</span> <span class="Identifier">bcR</span><span class="Other">:</span> <span class="Identifier">BoundaryCondition</span>
  <span class="Identifier">N</span><span class="Other">,</span> <span class="Identifier">nions</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">s0</span><span class="Other">,</span> <span class="Identifier">h</span><span class="Other">,</span> <span class="Identifier">f0</span><span class="Other">:</span> <span class="Identifier">float</span>
  <span class="Identifier">phiL</span><span class="Other">,</span> <span class="Identifier">phiLd</span><span class="Other">,</span> <span class="Identifier">phiR</span><span class="Other">,</span> <span class="Identifier">phiRd</span><span class="Other">:</span> <span class="Identifier">float</span>
  <span class="Identifier">lb</span><span class="Other">,</span> <span class="Identifier">rho</span><span class="Other">:</span> <span class="Identifier">float</span>
  <span class="Identifier">fac</span><span class="Other">,</span> <span class="Identifier">z</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">Nionsmax</span><span class="Other">,</span> <span class="Identifier">float</span><span class="Other">]</span>
  <span class="Identifier">phi</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">float</span><span class="Other">]</span>
</pre></dt>
<dd>


</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<dt id="defMesh"><a name="defMesh,PBEquation,float,float,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">defMesh</span><span class="Other">(</span><span class="Identifier">pbe</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">smin</span><span class="Other">,</span> <span class="Identifier">smax</span><span class="Other">,</span> <span class="Identifier">sbin</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">;</span> <span class="Identifier">reDefSbin</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Defines (or redefines) the space grid for equation <tt class="docutils literal"><span class="pre">pbe</span></tt>. <tt class="docutils literal"><span class="pre">smin</span></tt> is the lower bound, <tt class="docutils literal"><span class="pre">smax</span></tt> the higher, <tt class="docutils literal"><span class="pre">sbin</span></tt> the space interval. If <tt class="docutils literal"><span class="pre">reDefSbin</span></tt> is set to true, then <tt class="docutils literal"><span class="pre">sbin</span></tt> is redefined to match the [<tt class="docutils literal"><span class="pre">sbin</span></tt>, <tt class="docutils literal"><span class="pre">smax</span></tt>] interval. Dimensions of potential tables : N = int((smin-smax)/pas) raises <tt class="docutils literal"><span class="pre">ValueError</span></tt> if the grid is too small (number of points &lt; 3)

</dd>
<dt id="charge="><a name="charge=,PBEquation,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">charge=</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">charge</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
sets the surface charge density of the left (inner) surface

</dd>
<dt id="rho="><a name="rho=,PBEquation,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">rho=</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">rho</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
sets the density of an uniform background charge

</dd>
<dt id="lambdab="><a name="lambdab=,PBEquation,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">lambdab=</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">lambdab</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
changes the bjerrum length

</dd>
<dt id="defBoundCond"><a name="defBoundCond,PBEquation,BoundaryCondition,BoundaryCondition,float,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">defBoundCond</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">bcL</span><span class="Other">,</span> <span class="Identifier">bcR</span><span class="Other">:</span> <span class="Identifier">BoundaryCondition</span><span class="Other">;</span> <span class="Identifier">left</span> <span class="Other">=</span> <span class="FloatNumber">0.0</span><span class="Other">;</span> <span class="Identifier">right</span> <span class="Other">=</span> <span class="FloatNumber">0.0</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Defines the boundary conditions : left (or inner radius) (type is <tt class="docutils literal"><span class="pre">bcL</span></tt>, value is <tt class="docutils literal"><span class="pre">left</span></tt>), and right (or outer radius) (type is <tt class="docutils literal"><span class="pre">bcL</span></tt>, value is <tt class="docutils literal"><span class="pre">left</span></tt>) conditions.

</dd>
<dt id="initPBEquation"><a name="initPBEquation,float,float,float,openArray[float],openArray[float],float,float,float,float,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">initPBEquation</span><span class="Other">(</span><span class="Identifier">smin</span><span class="Other">,</span> <span class="Identifier">smax</span><span class="Other">,</span> <span class="Identifier">sbin</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">;</span> <span class="Identifier">zv</span><span class="Other">,</span> <span class="Identifier">concv</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">float</span><span class="Other">]</span><span class="Other">;</span>
                   <span class="Identifier">kind</span> <span class="Other">=</span> <span class="Identifier">PlanePBE</span><span class="Other">;</span> <span class="Identifier">bcL</span> <span class="Other">=</span> <span class="Identifier">BCval</span><span class="Other">;</span> <span class="Identifier">bcR</span> <span class="Other">=</span> <span class="Identifier">BCder</span><span class="Other">;</span> <span class="Identifier">left</span> <span class="Other">=</span> <span class="FloatNumber">0.0</span><span class="Other">;</span> <span class="Identifier">right</span> <span class="Other">=</span> <span class="FloatNumber">0.0</span><span class="Other">;</span>
                   <span class="Identifier">lambdab</span> <span class="Other">=</span> <span class="FloatNumber">0.715</span><span class="Other">;</span> <span class="Identifier">charge</span> <span class="Other">=</span> <span class="FloatNumber">0.0</span><span class="Other">;</span> <span class="Identifier">rho</span> <span class="Other">=</span> <span class="FloatNumber">0.0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">PBEquation</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Returns a new PBEquation object.<dl class="docutils"><dt>Parameters:</dt>
<dd><ul class="simple"><li><tt class="docutils literal"><span class="pre">smin</span></tt>: minimum of radius/x coordinate</li>
<li><tt class="docutils literal"><span class="pre">smax</span></tt>: maximum of radius/x coordinate</li>
<li><tt class="docutils literal"><span class="pre">sbin</span></tt>: requested separation between points</li>
<li><tt class="docutils literal"><span class="pre">zv</span></tt>: charges of ion species</li>
<li><tt class="docutils literal"><span class="pre">conv</span></tt>: bulk concentration of ion species</li>
<li><tt class="docutils literal"><span class="pre">kind</span></tt>: defines a planar geometry or a spherical geometry</li>
<li><tt class="docutils literal"><span class="pre">bcL</span></tt>: type of boundary condition on the &quot;left&quot; (inner radius)</li>
<li><tt class="docutils literal"><span class="pre">bcR</span></tt>: type of boundary condition on the &quot;right&quot; (inner radius)</li>
<li><tt class="docutils literal"><span class="pre">left</span></tt>: value of the left boundary condition</li>
<li><tt class="docutils literal"><span class="pre">right</span></tt>: value of the right boundary condition</li>
<li><tt class="docutils literal"><span class="pre">charge</span></tt>: surface charge density of the left (inner) surface</li>
<li><tt class="docutils literal"><span class="pre">rho</span></tt>: charge density of the background charge</li>
</ul>
</dd>
</dl>


</dd>
<dt id="initialize"><a name="initialize,PBEquation,proc(float)"></a><pre><span class="Keyword">proc</span> <span class="Identifier">initialize</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">f</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">float</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">closure</span></span><span class="Other">.}</span></span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Initialize the potential with a function.

</dd>
<dt id="initialize"><a name="initialize,PBEquation,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">initialize</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">x</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Initialize the potential with an uniform value.

</dd>
<dt id="mesh"><a name="mesh,PBEquation"></a><pre><span class="Keyword">proc</span> <span class="Identifier">mesh</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">float</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
gives the grid used by <tt class="docutils literal"><span class="pre">e</span></tt> as a sequence of x coordinates (or radial coordinates).

</dd>
<dt id="sigma"><a name="sigma,PBEquation"></a><pre><span class="Keyword">proc</span> <span class="Identifier">sigma</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Identifier">PBEquation</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">float</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Computes the inner (ion+background) surface charge density of the system

</dd>
<dt id="sigmaCum"><a name="sigmaCum,PBEquation"></a><pre><span class="Keyword">proc</span> <span class="Identifier">sigmaCum</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Identifier">PBEquation</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">float</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Computes the cumulative (ion+background) surface charge density of the system

</dd>
<dt id="sigmaCumSansBack"><a name="sigmaCumSansBack,PBEquation"></a><pre><span class="Keyword">proc</span> <span class="Identifier">sigmaCumSansBack</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Identifier">PBEquation</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">float</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Computes the cumulative (ions only) surface charge density of the system

</dd>
<dt id="residual"><a name="residual,PBEquation"></a><pre><span class="Keyword">proc</span> <span class="Identifier">residual</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Identifier">PBEquation</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">float</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


</dd>
<dt id="solve"><a name="solve,PBEquation,int,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">solve</span><span class="Other">(</span><span class="Identifier">eq</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">niter</span> <span class="Other">=</span> <span class="DecNumber">10000</span><span class="Other">;</span> <span class="Identifier">tol</span> <span class="Other">=</span> <span class="FloatNumber">1e-05</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Solves the Equation for the boundary conditions previously set, in a maximum of <tt class="docutils literal"><span class="pre">niter</span></tt> iterations, for a tolerance of <tt class="docutils literal"><span class="pre">tol</span></tt> on the residue. Returns the number of iterations effectively computed.

</dd>
<dt id="solveByNeutralization"><a name="solveByNeutralization,PBEquation,float,float,int,int,float,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">solveByNeutralization</span><span class="Other">(</span><span class="Identifier">eq</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span> <span class="Identifier">tolF</span> <span class="Other">=</span> <span class="FloatNumber">0.001</span><span class="Other">;</span> <span class="Identifier">tolIn</span> <span class="Other">=</span> <span class="FloatNumber">1e-05</span><span class="Other">;</span>
                          <span class="Identifier">nitermax</span> <span class="Other">=</span> <span class="DecNumber">500</span><span class="Other">;</span> <span class="Identifier">niterin</span> <span class="Other">=</span> <span class="DecNumber">10000</span><span class="Other">;</span> <span class="Identifier">minVal</span> <span class="Other">=</span> <span class="FloatNumber">0.0</span><span class="Other">;</span> <span class="Identifier">maxVal</span> <span class="Other">=</span> <span class="FloatNumber">10.0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Solves the Equation by matching the input <tt class="docutils literal"><span class="pre">eq.charge</span></tt> (placed on left or inner surface) with the calculated ionic + outer static charge iteratively, with a maximum of <tt class="docutils literal"><span class="pre">nitermax</span></tt> iterations, with <tt class="docutils literal"><span class="pre">niterin</span></tt> steps for each iteration. Returns the number of iterations <em>effectively</em> computed.

</dd>
<dt id="solveByCondition"><a name="solveByCondition,PBEquation,proc(PBEquation),float,float,int,int,float,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">solveByCondition</span><span class="Other">(</span><span class="Identifier">eq</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">PBEquation</span><span class="Other">;</span>
                     <span class="Identifier">condition</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Identifier">PBEquation</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">float</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">closure</span></span><span class="Other">.}</span></span><span class="Other">;</span> <span class="Identifier">tolF</span> <span class="Other">=</span> <span class="FloatNumber">0.001</span><span class="Other">;</span>
                     <span class="Identifier">tolIn</span> <span class="Other">=</span> <span class="FloatNumber">1e-05</span><span class="Other">;</span> <span class="Identifier">nitermax</span> <span class="Other">=</span> <span class="DecNumber">500</span><span class="Other">;</span> <span class="Identifier">niterin</span> <span class="Other">=</span> <span class="DecNumber">10000</span><span class="Other">;</span> <span class="Identifier">minVal</span> <span class="Other">=</span> <span class="FloatNumber">0.0</span><span class="Other">;</span>
                     <span class="Identifier">maxVal</span> <span class="Other">=</span> <span class="FloatNumber">10.0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                       <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>
Solves the Equation by nullifying iteratively the conditional function  <tt class="docutils literal"><span class="pre">condition</span></tt> with a maximum of <tt class="docutils literal"><span class="pre">nitermax</span></tt> iterations, with <tt class="docutils literal"><span class="pre">niterin</span></tt> steps for each iteration. Returns the number of iterations actually computed.

</dd>
<dt id="residuals"><a name="residuals,PBEquation"></a><pre><span class="Keyword">proc</span> <span class="Identifier">residuals</span><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Identifier">PBEquation</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">float</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small>Made with Nim. Generated: 2018-07-26 14:03:56 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
